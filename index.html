<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Riddle Rush â€” 10 in 30</title>
  <link href="https://fonts.googleapis.com/css2?family=Bangers&family=Fredoka+One&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg1:#2b5876; --bg2:#4e4376; --accent:#f8e71c; --neon:#00ffb3; --card:rgba(255,255,255,0.06);
      --glass: rgba(255,255,255,0.06);
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Poppins,system-ui,Arial;color:#fff;background:linear-gradient(135deg,var(--bg1),var(--bg2));overflow:hidden}
    .scene{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;padding:20px}
    .game{width:100%;max-width:900px;background:linear-gradient(180deg,rgba(255,255,255,0.03),rgba(255,255,255,0.02));border-radius:18px;padding:18px;box-shadow:0 10px 30px rgba(0,0,0,0.4);backdrop-filter:blur(6px)}
    header{display:flex;align-items:center;gap:16px}
    .logo{font-family:'Bangers',cursive;font-size:38px;letter-spacing:1px;color:var(--neon);text-shadow:0 4px 18px rgba(0,255,179,0.12);}
    .sub{font-family:'Fredoka One',sans-serif;color:var(--accent);font-size:13px}

    .home{display:flex;gap:20px;align-items:center;padding:22px 8px}
    .left{flex:1}
    .start-btn{background:linear-gradient(90deg,#00ffd5,#7a42ff);border:none;padding:16px 26px;border-radius:12px;font-weight:700;font-size:18px;color:#052;cursor:pointer;box-shadow:0 8px 30px rgba(122,66,255,0.28);transition:transform .15s ease,box-shadow .15s}
    .start-btn:hover{transform:translateY(-4px);box-shadow:0 18px 40px rgba(122,66,255,0.36)}
    .meta{font-size:14px;opacity:0.95}

    .game-screen{display:none;flex-direction:column;gap:14px;padding:10px}
    .topbar{display:flex;justify-content:space-between;align-items:center}
    .score{font-weight:600}
    .timer-wrap{display:flex;align-items:center;gap:10px}
    .timer-circle{width:64px;height:64px;border-radius:50%;background:conic-gradient(var(--neon) var(--timerpct,0%),rgba(255,255,255,0.08) 0);display:flex;align-items:center;justify-content:center;font-weight:700;color:#012}
    .riddle-card{background:var(--card);padding:18px;border-radius:12px;min-height:120px;display:flex;align-items:center;justify-content:center;font-size:20px;text-align:center}
    .answer-row{display:flex;gap:10px;align-items:center}
    .answer-input{flex:1;padding:12px;border-radius:10px;border:none;font-size:16px}
    .btn{padding:12px 14px;border-radius:10px;border:none;font-weight:700;cursor:pointer}
    .btn-submit{background:#fff;color:#072;border-radius:10px}
    .btn-skip{background:transparent;border:2px solid rgba(255,255,255,0.12);color:#fff}

    .results{display:none;align-items:center;flex-direction:column;padding:20px}
    .score-big{font-size:48px;font-weight:800;color:var(--neon);text-shadow:0 8px 30px rgba(0,255,179,0.12)}
    .actions{display:flex;gap:12px;margin-top:14px}

    /* floating shapes */
    .float-wrap{position:absolute;inset:0;pointer-events:none}
    .blob{position:absolute;border-radius:50%;filter:blur(40px);opacity:0.12;mix-blend-mode:screen}
    .blob.a{width:360px;height:360px;background:#ff6ec7;left:-60px;top:-40px}
    .blob.b{width:300px;height:300px;background:#00ffd5;right:-80px;bottom:-80px}

    /* responsive */
    @media(max-width:520px){.logo{font-size:28px}.riddle-card{font-size:18px}.timer-circle{width:56px;height:56px}}

    /* small animations */
    .fade-in{animation:fadeIn .35s ease both}
    @keyframes fadeIn{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:none}}

  </style>
</head>
<body>
  <div class="scene">
    <div class="game" role="application">
      <header>
        <div class="logo">Riddle Rush</div>
        <div style="flex:1"></div>
        <div class="sub">10 in 30 â€” Beat the clock</div>
      </header>

      <main>
        <section class="home" id="home">
          <div class="left">
            <h2 style="margin:6px 0 8px 0;font-size:24px">Ready to show off your brain?</h2>
            <div class="meta">10 random riddles. 30 seconds each. Neon vibes. Sound effects. Shareable link.</div>
          </div>
          <div style="display:flex;flex-direction:column;align-items:flex-end;gap:8px">
            <button class="start-btn" id="startBtn">Start Game</button>
            <div style="font-size:12px;opacity:0.9">Pro tip: use headphones for sound effects ðŸŽ§</div>
          </div>
        </section>

        <section class="game-screen" id="gameScreen">
          <div class="topbar">
            <div class="score">Score: <span id="score">0</span>/10</div>
            <div class="timer-wrap">
              <div id="riddleIndex">1/10</div>
              <div class="timer-circle" id="timerCircle">30</div>
            </div>
          </div>

          <div class="riddle-card fade-in" id="riddleCard">Loading...</div>

          <div class="answer-row">
            <input aria-label="answer" id="answerInput" class="answer-input" placeholder="Type your answer and press Enter" autocomplete="off">
            <button class="btn btn-submit" id="submitBtn">Submit</button>
            <button class="btn btn-skip" id="skipBtn">Skip</button>
          </div>

        </section>

        <section class="results" id="results">
          <div class="score-big" id="finalScore">0/10</div>
          <div id="comment" style="margin-top:8px;opacity:0.95">Nice try â€” share your score!</div>
          <div class="actions">
            <button class="start-btn" id="playAgain">Play Again</button>
            <button class="btn btn-skip" id="shareBtn">Copy Share Link</button>
          </div>
        </section>

      </main>
    </div>

    <div class="float-wrap">
      <div class="blob a"></div>
      <div class="blob b"></div>
    </div>
  </div>

  <audio id="sndStart" src="data:audio/mp3;base64,//uQZAAAAAAAAAAAAAAAAAAAAAAASW5mbgAAAA8AAAACAAACcQCA..." preload="auto"></audio>
  <audio id="sndCorrect" src="data:audio/mp3;base64,//uQZAAAAAAAAAAAAAAAAAAAAAAASW5mbgAAAA8AAAACAAACcQCA..." preload="auto"></audio>
  <audio id="sndWrong" src="data:audio/mp3;base64,//uQZAAAAAAAAAAAAAAAAAAAAAAASW5mbgAAAA8AAAACAAACcQCA..." preload="auto"></audio>
  <audio id="sndTick" src="data:audio/mp3;base64,//uQZAAAAAAAAAAAAAAAAAAAAAAASW5mbgAAAA8AAAACAAACcQCA..." preload="auto"></audio>

  <script>
    // ======= Riddle bank (100) =======
    const RIDDLES = [
      {q:"I speak without a mouth and hear without ears. I have nobody, but I come alive with wind. What am I?",a:"echo"},
      {q:"You measure my life in hours and I serve you by expiring. Iâ€™m quick when Iâ€™m thin and slow when Iâ€™m fat. The wind is my enemy.",a:"candle"},
      {q:"I have cities, but no houses. I have mountains, but no trees. I have water, but no fish. What am I?",a:"map"},
      {q:"What is seen in the middle of March and April that canâ€™t be seen at the beginning or end of either month?",a:"r"},
      {q:"You see a boat filled with people, yet there isnâ€™t a single person on board. How is that possible?",a:"all married"},
      {q:"What can run but never walks, has a mouth but never talks, has a head but never weeps, has a bed but never sleeps?",a:"river"},
      {q:"I come from a mine and get surrounded by wood always. Everyone uses me. What am I?",a:"pencil lead"},
      {q:"What disappears as soon as you say its name?",a:"silence"},
      {q:"I have keys but no locks. I have space but no room. You can enter but canâ€™t go outside. What am I?",a:"keyboard"},
      {q:"What invention lets you look right through a wall?",a:"window"},
      {q:"What can travel around the world while staying in a corner?",a:"stamp"},
      {q:"What has many teeth but canâ€™t bite?",a:"comb"},
      {q:"What has hands but can not clap?",a:"clock"},
      {q:"What has one eye but canâ€™t see?",a:"needle"},
      {q:"What gets wetter the more it dries?",a:"towel"},
      {q:"What goes up but never comes down?",a:"age"},
      {q:"Iâ€™m light as a feather, yet even the strongest man canâ€™t hold me for much more than a minute. What am I?",a:"breath"},
      {q:"What begins with T, ends with T, and has T in it?",a:"teapot"},
      {q:"I shave every day, but my beard stays the same. What am I?",a:"barber"},
      {q:"What building has the most stories?",a:"library"},
      {q:"What can you catch, but not throw?",a:"cold"},
      {q:"Iâ€™m found in socks, scarves and mittens; and often in the paws of playful kittens. What am I?",a:"yarn"},
      {q:"A man who was outside in the rain without an umbrella or hat didnâ€™t get a single hair on his head wet. Why?",a:"bald"},
      {q:"What goes through towns and over hills but never moves?",a:"road"},
      {q:"What has a head and a tail but no body?",a:"coin"},
      {q:"What has an eye but cannot see?",a:"needle"},
      {q:"What gets bigger when more is taken away?",a:"hole"},
      {q:"What never asks a question but gets answered all the time?",a:"telephone"},
      {q:"I have branches, but no fruit, trunk or leaves. What am I?",a:"bank"},
      {q:"What kind of coat is always wet when you put it on?",a:"paint"},
      {q:"What can fill a room but takes up no space?",a:"light"},
      {q:"The more you take, the more you leave behind. What are they?",a:"footsteps"},
      {q:"Iâ€™m tall when Iâ€™m young, and Iâ€™m short when Iâ€™m old. What am I?",a:"candle"},
      {q:"What begins with an E but only has one letter?",a:"envelope"},
      {q:"What has to be broken before you can use it?",a:"egg"},
      {q:"Iâ€™m often running yet I have no legs. You need me but I donâ€™t need you. What am I?",a:"water"},
      {q:"What has four wheels and flies?",a:"garbage truck"},
      {q:"What has a thumb and four fingers but is not alive?",a:"glove"},
      {q:"What invention lets you see the future?",a:"mirror"},
      {q:"What word is spelled incorrectly in every dictionary?",a:"incorrectly"},
      {q:"What has many keys but canâ€™t open a single lock?",a:"piano"},
      {q:"What starts with a P, ends with an E and has thousands of letters?",a:"post office"},
      {q:"I have lakes with no water, mountains with no stone and cities without buildings. What am I?",a:"map"},
      {q:"What begins with a P and ends with an E and has more than one letter?",a:"post office"},
      {q:"What can you hold without ever touching it?",a:"conversation"},
      {q:"What runs but never walks, has a mouth but never talks?",a:"river"},
      {q:"What tastes better than it smells?",a:"tongue"},
      {q:"Iâ€™m always hungry and will die if not fed, but whatever I touch will soon turn red. What am I?",a:"fire"},
      {q:"Take off my skin â€” I wonâ€™t cry, but you will. What am I?",a:"onion"},
      {q:"What kind of tree can you carry in your hand?",a:"palm"},
      {q:"I fly without wings. I cry without eyes. Wherever I go darkness follows me. What am I?",a:"cloud"},
      {q:"I run all around the backyard, yet I never move. What am I?",a:"fence"},
      {q:"Which month has 28 days?",a:"all months"},
      {q:"Where does Friday come before Thursday?",a:"dictionary"},
      {q:"What do you call a bear with no teeth?",a:"gummy bear"},
      {q:"What building has the least stories?",a:"library"},
      {q:"What kind of room has no doors or windows?",a:"mushroom"},
      {q:"What is full of holes but still holds water?",a:"sponge"},
      {q:"If you drop me Iâ€™m sure to crack, but give me a smile and Iâ€™ll always smile back. What am I?",a:"mirror"},
      {q:"What goes up and down but remains in the same place?",a:"stairs"},
      {q:"What has one head, one foot and four legs?",a:"bed"},
      {q:"What never gets wetter no matter how much it rains?",a:"waterproof"},
      {q:"If twoâ€™s company, and threeâ€™s a crowd, what are four and five?",a:"nine"},
      {q:"What can you break, even if you never pick it up or touch it?",a:"promise"},
      {q:"Iâ€™m not alive, but I grow; I donâ€™t have lungs, but I need air; I donâ€™t have a mouth, but water kills me. What am I?",a:"fire"},
      {q:"What goes around the world but stays in a corner?",a:"stamp"},
      {q:"What has ears but cannot hear?",a:"corn"},
      {q:"What gets sharper the more you use it?",a:"brain"},
      {q:"What has a neck but no head?",a:"bottle"},
      {q:"What is always in front of you but canâ€™t be seen?",a:"future"},
      {q:"If you have me, you want to share me. If you share me, you donâ€™t have me. What am I?",a:"secret"},
      {q:"What canâ€™t talk but will reply when spoken to?",a:"echo"},
      {q:"What begins with an â€˜eâ€™ and only has one letter?",a:"envelope"},
      {q:"Iâ€™m taken from a mine and shut up in a wooden case, from which I am never released, and yet I am used by almost everybody. What am I?",a:"pencil lead"},
      {q:"What runs but never walks?",a:"water"},
      {q:"What has two hands but canâ€™t clap?",a:"clock"},
      {q:"I have a heart that doesnâ€™t beat. What am I?",a:"artichoke"},
      {q:"What English word has three consecutive double letters?",a:"bookkeeper"},
      {q:"If you feed me, I live; if you give me a drink, I die. What am I?",a:"fire"},
      {q:"The more of this there is, the less you see. What is it?",a:"darkness"},
      {q:"What is so fragile that saying its name breaks it?",a:"silence"},
      {q:"What has many needles but does not sew?",a:"pine tree"}
    ];

    // ======= Game variables =======
    let gameRiddles = [];
    let currentIndex = 0;
    let score = 0;
    let timer = null;
    let timeLeft = 30;

    // audio elements
    const sndStart = document.getElementById('sndStart');
    const sndCorrect = document.getElementById('sndCorrect');
    const sndWrong = document.getElementById('sndWrong');
    const sndTick = document.getElementById('sndTick');

    // UI refs
    const home = document.getElementById('home');
    const startBtn = document.getElementById('startBtn');
    const gameScreen = document.getElementById('gameScreen');
    const riddleCard = document.getElementById('riddleCard');
    const timerCircle = document.getElementById('timerCircle');
    const riddleIndex = document.getElementById('riddleIndex');
    const scoreEl = document.getElementById('score');
    const answerInput = document.getElementById('answerInput');
    const submitBtn = document.getElementById('submitBtn');
    const skipBtn = document.getElementById('skipBtn');
    const results = document.getElementById('results');
    const finalScore = document.getElementById('finalScore');
    const playAgain = document.getElementById('playAgain');
    const shareBtn = document.getElementById('shareBtn');

    function pickRiddles(){
      const pool = [...RIDDLES];
      const picked = [];
      for(let i=0;i<10;i++){
        const idx = Math.floor(Math.random()*pool.length);
        picked.push(pool.splice(idx,1)[0]);
      }
      return picked;
    }

    function startGame(){
      sndStart && tryPlay(sndStart);
      home.style.display='none';
      results.style.display='none';
      gameScreen.style.display='flex';
      gameRiddles = pickRiddles();
      currentIndex=0;score=0;updateScore();
      showRiddle();
    }

    function showRiddle(){
      const r = gameRiddles[currentIndex];
      riddleCard.textContent = r.q;
      riddleIndex.textContent = `${currentIndex+1}/10`;
      answerInput.value='';answerInput.focus();
      resetTimer();
      startTimer();
    }

    function normalize(str){
      return String(str||'').toLowerCase().replace(/[\W_]+/g,'').trim();
    }

    function submitAnswer(){
      if(!gameScreen.style.display || gameScreen.style.display==='none') return;
      const user = normalize(answerInput.value);
      const correct = normalize(gameRiddles[currentIndex].a);
      if(user && (user===correct || correct.includes(user) || user.includes(correct))){
        score+=1;updateScore();sndCorrect && tryPlay(sndCorrect);
      } else {
        sndWrong && tryPlay(sndWrong);
      }
      nextQuestion();
    }

    function nextQuestion(){
      stopTimer();
      currentIndex++;
      if(currentIndex>=10){endGame();return}
      showRiddle();
    }

    function skipQuestion(){
      sndWrong && tryPlay(sndWrong);
      nextQuestion();
    }

    function endGame(){
      gameScreen.style.display='none';
      results.style.display='flex';
      finalScore.textContent = `${score}/10`;
      document.getElementById('comment').textContent = getComment(score);
    }

    function getComment(s){
      if(s===10) return 'Legend â€” 10/10! Share and brag!';
      if(s>=8) return 'Amazing! Near-perfect.';
      if(s>=5) return 'Nice job â€” solid brainwork.';
      return 'Good effort â€” practice makes perfect!';
    }

    function updateScore(){scoreEl.textContent=score}

    function startTimer(){
      timeLeft=30;updateTimerUI();
      timer = setInterval(()=>{
        timeLeft--;
        updateTimerUI();
        if(timeLeft<=5){tryPlay(sndTick)}
        if(timeLeft<=0){
          stopTimer();
          // auto-skip
          nextQuestion();
        }
      },1000);
    }
    function stopTimer(){clearInterval(timer);timer=null}
    function resetTimer(){stopTimer();timerCircle.style.setProperty('--timerpct','100%')}

    function updateTimerUI(){
      timerCircle.textContent = timeLeft;
      const pct = (timeLeft/30)*100;
      timerCircle.style.setProperty('--timerpct', pct + '%');
      if(timeLeft<=5){timerCircle.style.transform='scale(1.08)';}
      else timerCircle.style.transform='none';
    }

    function tryPlay(aud){
      try{aud.currentTime=0;aud.play()}catch(e){}
    }

    // event bindings
    startBtn.addEventListener('click', startGame);
    submitBtn.addEventListener('click', submitAnswer);
    skipBtn.addEventListener('click', skipQuestion);
    playAgain.addEventListener('click', startGame);
    shareBtn.addEventListener('click',()=>{
      const url = location.href;
      navigator.clipboard.writeText(url).then(()=>{shareBtn.textContent='Link copied!'}).catch(()=>{shareBtn.textContent='Copy failed'});
    });

    answerInput.addEventListener('keydown',(e)=>{if(e.key==='Enter')submitAnswer()});

    // friendly focus
    window.addEventListener('keydown',e=>{if(e.key===' '){e.preventDefault();answerInput.focus()}});

    // initialize
    (function init(){
      // warm up audio (user gesture required on many browsers)
      document.addEventListener('click',function once(){tryPlay(sndStart);document.removeEventListener('click',once)});
    })();

  </script>
</body>
</html>
